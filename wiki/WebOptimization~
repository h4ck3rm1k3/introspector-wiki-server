store database query results in optimal c++ class structure and custom memory management.